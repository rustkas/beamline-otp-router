# T-DOCS-01 — Standardize Gateway Backpressure Protocol

## Problem
В текущей реализации протокол backpressure (обратной связи о перегрузке) описан частично. Для надежной работы внешних шлюзов (Gateways) необходим четкий контракт: как шлюз узнает о перегрузке, какие HTTP коды возвращать (429 Too Many Requests), как интерпретировать заголовок `Retry-After` и какие метрики использовать для принятия решения о троттлинге.

## Goal
Стандартизировать и задокументировать протокол backpressure в `docs/API_CONTRACTS.md`:
- Четкое описание полей ответа при перегрузке.
- Описание маппинга внутренних состояний Router (active/warning) в HTTP/gRPC статусы.
- Рекомендации по реализации троттлинга на стороне Gateway.
- Верификация соответствия документации и текущей реализации в `router_gateway_backpressure.erl`.

## Outcome
1. Полный раздел "Gateway Backpressure Protocol" в `docs/API_CONTRACTS.md`.
2. Документированные примеры JSON-ответов для разных состояний перегрузки.
3. Описание алгоритма расчета `retry_after_seconds`.
