<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test router_core_telemetry_contract_SUITE:test_route_error_returns_correct_format result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="router_core_telemetry_contract_suite.src.html#test_route_error_returns_correct_format-1">router_core_telemetry_contract_SUITE:test_route_error_returns_correct_format/1</a> (click for source code)

=== Config value:

    [{watchdog,&lt;0.500.0&gt;},
     {tc_logfile,"/home/rustkas/aigroup/apps/otp/router/ct_logs/ct_run.nonode@nohost.2025-11-11_19.55.04/lib.beamline_router.router_core_telemetry_contract_SUITE.logs/run.2025-11-11_19.55.04/router_core_telemetry_contract_suite.test_route_error_returns_correct_format.html"},
     {tc_group_properties,[]},
     {tc_group_path,[]},
     {data_dir,"/home/rustkas/aigroup/apps/otp/router/_build/test/lib/beamline_router/test/router_core_telemetry_contract_SUITE_data/"},
     {priv_dir,"/home/rustkas/aigroup/apps/otp/router/ct_logs/ct_run.nonode@nohost.2025-11-11_19.55.04/lib.beamline_router.router_core_telemetry_contract_SUITE.logs/run.2025-11-11_19.55.04/log_private/"}]

=== Current directory is "/home/rustkas/aigroup/apps/otp/router/ct_logs/ct_run.nonode@nohost.2025-11-11_19.55.04"

=== Started at 2025-11-11 19:55:05

<br />

</pre>
<div class="sasl"><pre><b>*** System report during router_core_telemetry_contract_SUITE:test_route_error_returns_correct_format/1 2025-11-11 19:55:05.063 ***</b><a id=e-3 class="link-to-entry" href="#e-3">&#x1f517;</a>
=ERROR REPORT==== 11-Nov-2025::19:55:05.061148 ===
Handler {router_core_telemetry_contract_SUITE,test_telemetry_contract} has failed and has been detached. Class=error
Reason=badarg
Stacktrace=[{ets,insert,
                [#Ref&lt;0.3548631244.2427584513.231315&gt;,
                 {stop,
                     #{monotonic_time =&gt; -576460749231247701,
                       duration =&gt; 94052},
                     #{error =&gt; missing_tenant_id,result =&gt; error,
                       tenant_id =&gt; undefined,policy_id =&gt; &lt;&lt;"default"&gt;&gt;,
                       error_context =&gt;
                           #{context =&gt; &lt;&lt;"tenant_id is required in message"&gt;&gt;,
                             message_id =&gt; &lt;&lt;"test-msg"&gt;&gt;},
                       telemetry_span_context =&gt;
                           #Ref&lt;0.3548631244.2427453441.231588&gt;}}],
                [{error_info,#{cause =&gt; id,module =&gt; erl_stdlib_errors}}]},
            {router_core_telemetry_contract_SUITE,
                '-test_route_telemetry_stop_event_no_exception/1-fun-0-',5,
                [{file,
                     "/home/rustkas/aigroup/apps/otp/router/test/router_core_telemetry_contract_SUITE.erl"},
                 {line,94}]},
            {telemetry,'-execute/3-fun-0-',4,
                [{file,
                     "/home/rustkas/aigroup/apps/otp/router/_build/default/lib/telemetry/src/telemetry.erl"},
                 {line,167}]},
            {lists,foreach_1,2,[{file,"lists.erl"},{line,2310}]},
            {telemetry,span,3,
                [{file,
                     "/home/rustkas/aigroup/apps/otp/router/_build/default/lib/telemetry/src/telemetry.erl"},
                 {line,327}]},
            {router_core_telemetry_contract_SUITE,
                test_route_error_returns_correct_format,1,
                [{file,
                     "/home/rustkas/aigroup/apps/otp/router/test/router_core_telemetry_contract_SUITE.erl"},
                 {line,172}]},
            {test_server,ts_tc,3,[{file,"test_server.erl"},{line,1794}]},
            {test_server,run_test_case_eval1,6,
                [{file,"test_server.erl"},{line,1303}]}]


</pre></div>
<pre>

</pre>
<div class="ct_error_notify"><pre><b>*** CT Error Notification 2025-11-11 19:55:05.067 ***</b><a id=e-4 class="link-to-entry" href="#e-4">&#x1f517;</a>
router_core_telemetry_contract_SUITE:test_route_error_returns_correct_format failed on line 182
Reason: {test_case_failed,Expected {{error, {missing_tenant_id, _Context}}, StopMetadata}, got: {error,
                                                                       {missing_tenant_id,
                                                                        #{context =&gt;
                                                                           &lt;&lt;"tenant_id is required in message"&gt;&gt;,
                                                                          message_id =&gt;
                                                                           &lt;&lt;"test-msg"&gt;&gt;}}}}

<a href="#end">Full error description and stacktrace</a>
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2025-11-11 19:55:05
=== Location: [{router_core_telemetry_contract_SUITE,test_route_error_returns_correct_format,<a href="router_core_telemetry_contract_suite.src.html#182">182</a>},
              {test_server,ts_tc,1794},
              {test_server,run_test_case_eval1,1303},
              {test_server,run_test_case_eval,1235}]
=== === Reason: {test_case_failed,"Expected {{error, {missing_tenant_id, _Context}}, StopMetadata}, got: {error,\n                                                                       {missing_tenant_id,\n                                                                        #{context =&gt;\n                                                                           &lt;&lt;\"tenant_id is required in message\"&gt;&gt;,\n                                                                          message_id =&gt;\n                                                                           &lt;&lt;\"test-msg\"&gt;&gt;}}}"}
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2025 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Tue Nov 11 2025 19:55:05<!--/date--><br />
</div>
</center>
</body>
</html>
